import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o,c as l,a as n,b as a,d as e,e as s}from"./app-8d307529.js";const c={},u=s(`<h1 id="helloworldå…¥é—¨æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#helloworldå…¥é—¨æ¡ˆä¾‹" aria-hidden="true">#</a> HelloWorldå…¥é—¨æ¡ˆä¾‹</h1><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310302354916.png" alt="image-20231030235443828" tabindex="0" loading="lazy"><figcaption>image-20231030235443828</figcaption></figure><h2 id="_1-å‰è¨€" tabindex="-1"><a class="header-anchor" href="#_1-å‰è¨€" aria-hidden="true">#</a> 1.å‰è¨€</h2><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Leoå“¥ğŸ«£ğŸ«£ğŸ«£ï¼Œç¬¬ä¸€èŠ‚æˆ‘ä»¬è®¤è¯†äº†SpringSecurityç›¸å…³çš„æ¦‚å¿µä»¥åŠç›¸å…³çš„çš„å†å²ï¼Œè¿™ä¸€èŠ‚æˆ‘ä»¬å°±ç›´æ¥ä¸Šæ‰‹SpringSecurityï¼Œé€šè¿‡ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹çš„æ–¹å¼åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­é›†æˆSpringSecurityã€‚å¥½äº†ï¼Œè¯ä¸å¤šè¯´è®©æˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹å†™ä»£ç å§ğŸ˜ğŸ˜ğŸ˜ã€‚</p><h2 id="_2-å¼€å‘ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_2-å¼€å‘ç¯å¢ƒ" aria-hidden="true">#</a> 2.å¼€å‘ç¯å¢ƒ</h2><p><strong>æ³¨æ„ï¼šæ­¤æ¬¡SpringSecurityçš„é¡¹ç›®æ¡ˆä¾‹çš„ç¯å¢ƒå¦‚ä¸‹</strong></p><ul><li>JDK17</li><li>IntelliJ IDEA 2023.22</li><li>SpringSecurity6.0</li><li>MySQL8.0+</li><li>Maven3.8+</li><li>MyBatis3.5+</li></ul><p>ä»¥ä¸Šç‰ˆæœ¬å‡ä¸ºç¬”è€…çš„æœ¬åœ°ç¯å¢ƒï¼Œå¤§å®¶å¯ä»¥è¿›è¡Œæ¨ªå‘å‚è€ƒï¼Œå¤§è‡´è·Ÿæˆ‘ä¿æŒä¸€è‡´å³å¯ã€‚</p><h2 id="_3-ç¯å¢ƒæ­å»º" tabindex="-1"><a class="header-anchor" href="#_3-ç¯å¢ƒæ­å»º" aria-hidden="true">#</a> 3.ç¯å¢ƒæ­å»º</h2><p>åœ¨æ­å»ºæˆ‘ä»¬ç¬¬ä¸€ä¸ªSpringSecurityçš„HelloWorldçš„æ¡ˆä¾‹ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆå¤ä¹ ä¸€ä¸‹åœ¨IDEAä¸­æ­å»ºä¸€ä¸ªåŸºç¡€çš„SprignBootç¯å¢ƒï¼Œæˆ‘ä»¬çš„æ¡ˆä¾‹ä¹Ÿæ˜¯åŸºäºSpringBootåŸºç¡€ç¯å¢ƒä¹‹ä¸Šè¿›è¡Œå¼€å‘ä»¥åŠä»£ç çš„ç¼–å†™ã€‚</p><h3 id="_3-1ä½¿ç”¨mavenåˆ›å»ºå·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-1ä½¿ç”¨mavenåˆ›å»ºå·¥ç¨‹" aria-hidden="true">#</a> 3.1ä½¿ç”¨Mavenåˆ›å»ºå·¥ç¨‹</h3><p>ä½¿ç”¨Mavençˆ¶å­å·¥ç¨‹è¿›è¡Œåˆ›å»ºé¡¹ç›®ã€‚</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311511360.png" alt="image-20231031151145267" tabindex="0" loading="lazy"><figcaption>image-20231031151145267</figcaption></figure><h3 id="_3-2æ·»åŠ ä¾èµ–ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_3-2æ·»åŠ ä¾èµ–ä¿¡æ¯" aria-hidden="true">#</a> 3.2æ·»åŠ ä¾èµ–ä¿¡æ¯</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.javatop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>Leo-springsecurity6-start<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3é…ç½®yamlé…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-3é…ç½®yamlé…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 3.3é…ç½®YAMLé…ç½®æ–‡ä»¶</h3><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8500</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4æ·»åŠ ä¸»å¯åŠ¨ç±»" tabindex="-1"><a class="header-anchor" href="#_3-4æ·»åŠ ä¸»å¯åŠ¨ç±»" aria-hidden="true">#</a> 3.4æ·»åŠ ä¸»å¯åŠ¨ç±»</h3><div class="language-Java line-numbers-mode" data-ext="Java"><pre class="language-Java"><code>package org.javatop;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;
import org.springframework.context.ConfigurableApplicationContext;
import org.springframework.core.env.Environment;

/**
 * @author : Leo
 * @version 1.0
 * @date 2023-10-31 15:05
 * @description : å¯åŠ¨ç±»
 */
@SpringBootApplication(exclude = { DataSourceAutoConfiguration.class })
public class Application
{
    public static void main(String[] args)
    {
        ConfigurableApplicationContext context = SpringApplication.run(Application.class, args);
        Environment environment = context.getBean(Environment.class);

        System.out.println(&quot;è®¿é—®é“¾æ¥ï¼šhttp://localhost:&quot; + environment.getProperty(&quot;server.port&quot;));
        System.out.println(&quot;(â™¥â— â€¿â— )ï¾‰ï¾  é¡¹ç›®å¯åŠ¨æˆåŠŸ   áƒš(Â´Ú¡\`áƒš)ï¾  \\n&quot; +
                &quot; .-------.       ____     __        \\n&quot; +
                &quot; |  _ _   \\\\      \\\\   \\\\   /  /    \\n&quot; +
                &quot; | ( &#39; )  |       \\\\  _. /  &#39;       \\n&quot; +
                &quot; |(_ o _) /        _( )_ .&#39;         \\n&quot; +
                &quot; | (_,_).&#39; __  ___(_ o _)&#39;          \\n&quot; +
                &quot; |  |\\\\ \\\\  |  ||   |(_,_)&#39;         \\n&quot; +
                &quot; |  | \\\\ \`&#39;   /|   \`-&#39;  /           \\n&quot; +
                &quot; |  |  \\\\    /  \\\\      /           \\n&quot; +
                &quot; &#39;&#39;-&#39;   \`&#39;-&#39;    \`-..-&#39;              &quot;);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-5ç¼–å†™æ¥å£æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_3-5ç¼–å†™æ¥å£æµ‹è¯•" aria-hidden="true">#</a> 3.5ç¼–å†™æ¥å£æµ‹è¯•</h3><h4 id="_1-ç¼–å†™helloæ¥å£" tabindex="-1"><a class="header-anchor" href="#_1-ç¼–å†™helloæ¥å£" aria-hidden="true">#</a> 1.ç¼–å†™Helloæ¥å£</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> : Leo
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@date</span> 2023-10-31 15:02
 * <span class="token keyword">@description</span> :
 */</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token string">&quot;hello......&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-å¯åŠ¨æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_2-å¯åŠ¨æµ‹è¯•" aria-hidden="true">#</a> 2.å¯åŠ¨æµ‹è¯•</h4><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311518919.png" alt="image-20231031151809752" tabindex="0" loading="lazy"><figcaption>image-20231031151809752</figcaption></figure>`,24),r={href:"http://localhost:8500/hello",target:"_blank",rel:"noopener noreferrer"},d=s(`<figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311518671.png" alt="image-20231031151829593" tabindex="0" loading="lazy"><figcaption>image-20231031151829593</figcaption></figure><p><strong>è‡³æ­¤ï¼Œåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„SpringBootçš„åŸºç¡€å¼€å‘ç¯å¢ƒå°±å·²ç»æ­å»ºå®Œæˆã€‚</strong></p><h3 id="_3-6æ·»åŠ springsecurityä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_3-6æ·»åŠ springsecurityä¾èµ–" aria-hidden="true">#</a> 3.6æ·»åŠ SpringSecurityä¾èµ–</h3><p>æ·»åŠ ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>	<span class="token comment">&lt;!--SpringSecurityå¯åŠ¨å™¨--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-security<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-7é‡å¯é¡¹ç›®è¿›è¡Œæµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_3-7é‡å¯é¡¹ç›®è¿›è¡Œæµ‹è¯•" aria-hidden="true">#</a> 3.7é‡å¯é¡¹ç›®è¿›è¡Œæµ‹è¯•</h3>`,6),g={href:"http://localhost:8500/hello",target:"_blank",rel:"noopener noreferrer"},k=s(`<figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311520844.png" alt="image-20231031152047788" tabindex="0" loading="lazy"><figcaption>image-20231031152047788</figcaption></figure><p>æ­¤æ—¶å‘ç°ï¼Œæˆ‘ä»¬å°±ç›´æ¥è®¿é—®åˆ°æˆ‘ä»¬çš„helloæ¥å£äº†ï¼Œè€Œæ˜¯éœ€è¦æˆ‘ä»¬è¿›è¡Œç™»å½•è®¤è¯ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“ç”¨æˆ·åè·Ÿå¯†ç æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬ä¹Ÿåªæ˜¯æ·»åŠ äº†ä¸€ä¸ªSpringSecurityçš„ä¾èµ–è€Œæ˜¯ï¼Œæ€ä¹ˆå°±ç»™æˆ‘ç›´æ¥è·³å‡ºäº†ä¸€ä¸ªç™»å½•æ¡†å‘¢ã€‚</p><p>åœ¨ Spring Security ä¸­ï¼Œé»˜è®¤çš„ç™»å½•é¡µé¢å’Œç™»å½•æ¥å£ï¼Œéƒ½æ˜¯ <code>/login</code> ï¼Œåªä¸è¿‡ä¸€ä¸ªæ˜¯ get è¯·æ±‚ï¼ˆç™»å½•é¡µé¢ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯ post è¯·æ±‚ï¼ˆç™»å½•æ¥å£ï¼‰ã€‚</p><p><strong>ã€Œå¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œéå¸¸æ–¹ä¾¿ï¼Œä¸€ä¸ªä¾èµ–å°±ä¿æŠ¤äº†æ‰€æœ‰æ¥å£ã€‚ã€</strong></p><p>å¸¦ç€ç–‘é—®æˆ‘ä»¬ç»§ç»­å¾€ä¸‹çœ‹ï¼Œæ­¤æ—¶å‘ç°æˆ‘ä»¬çš„IDEAæ§åˆ¶å°å’Œç¬¬ä¸€æ¬¡æœ‰ä¸€äº›ä¸ä¸€æ ·ã€‚</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311523906.png" alt="image-20231031152326757" tabindex="0" loading="lazy"><figcaption>image-20231031152326757</figcaption></figure><p>ç¬¬ä¸€è¡Œçš„å†…å®¹å°±æ˜¯securityç»™æˆ‘ä»¬æä¾›çš„ä¸€ä¸ªuuidç”Ÿæˆçš„å¯†ç ï¼Œç”¨æˆ·åé»˜è®¤ä¸ºuserã€‚ç¬¬äºŒè¡Œçš„å†…å®¹å¤§æ¦‚çš„æ„æ€ï¼Œè¿™ä¸ªç”Ÿæˆçš„å¯†ç åªé€‚åˆäºç”Ÿäº§ç¯å¢ƒï¼Œå¦‚æœéœ€è¦çº¿ä¸ŠæŠ•å…¥ä½¿ç”¨çš„è¯ï¼Œéœ€è¦ä½ è¿›è¡Œé…ç½®ã€‚</p><p>æœ‰äººè¯´ï¼Œä½ æ€ä¹ˆçŸ¥é“çŸ¥é“ç”Ÿæˆçš„é»˜è®¤å¯†ç æ˜¯ä¸€ä¸ª UUID å‘¢ï¼Ÿ</p><p>è¿™ä¸ªå…¶å®å¾ˆå¥½åˆ¤æ–­ã€‚</p><p>å’Œç”¨æˆ·ç›¸å…³çš„è‡ªåŠ¨åŒ–é…ç½®ç±»åœ¨ <code>UserDetailsServiceAutoConfiguration</code> é‡Œè¾¹ï¼Œåœ¨è¯¥ç±»çš„ <code>getOrDeducePassword</code> æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹ä¸€è¡Œæ—¥å¿—ï¼š</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311540481.png" alt="image-20231031154020367" tabindex="0" loading="lazy"><figcaption>image-20231031154020367</figcaption></figure><p>æ¯«æ— ç–‘é—®ï¼Œæˆ‘ä»¬åœ¨æ§åˆ¶å°çœ‹åˆ°çš„æ—¥å¿—å°±æ˜¯ä»è¿™é‡Œæ‰“å°å‡ºæ¥çš„ã€‚æ‰“å°çš„æ¡ä»¶æ˜¯ <strong>isPasswordGenerated</strong> æ–¹æ³•è¿”å› trueï¼Œå³å¯†ç æ˜¯é»˜è®¤ç”Ÿæˆçš„ã€‚</p><p>è¿›è€Œæˆ‘ä»¬å‘ç°ï¼Œuser.getPassword å‡ºç°åœ¨ SecurityProperties ä¸­ï¼Œåœ¨ SecurityProperties ä¸­æˆ‘ä»¬çœ‹åˆ°å¦‚ä¸‹å®šä¹‰ï¼š</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311541855.png" alt="image-20231031154134602" tabindex="0" loading="lazy"><figcaption>image-20231031154134602</figcaption></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤çš„ç”¨æˆ·åå°±æ˜¯ userï¼Œé»˜è®¤çš„å¯†ç åˆ™æ˜¯ UUIDï¼Œè€Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒpasswordGenerated ä¹Ÿä¸º trueã€‚</p><p>å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä½¿ç”¨securityç»™æä¾›çš„ç”¨æˆ·åå’Œå¯†ç æ¥è¿›è¡Œç™»å½•è®¤è¯ã€‚</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311535832.png" alt="image-20231031153507757" tabindex="0" loading="lazy"><figcaption>image-20231031153507757</figcaption></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æˆåŠŸç™»å½•ï¼Œå¹¶ç›´æ¥è·³è½¬åˆ°æˆ‘ä»¬çš„helloæ¥å£ï¼Œè‡³æ­¤ï¼Œæˆ‘ä»¬çš„HelloWorldå…¥é—¨æ¡ˆä¾‹å®Œç»“ã€‚</p><h2 id="_4-è‡ªå®šä¹‰é…ç½®" tabindex="-1"><a class="header-anchor" href="#_4-è‡ªå®šä¹‰é…ç½®" aria-hidden="true">#</a> 4.è‡ªå®šä¹‰é…ç½®</h2><p>è™½ç„¶é€šè¿‡securityè‡ªå¸¦çš„å¯†ç å¯ä»¥è®©æˆ‘ä»¬è¿›è¡Œç™»å½•å¹¶è®¿é—®åˆ°æˆ‘ä»¬çš„æ¥å£ï¼Œä½†æ˜¯ä½ æ¯æ¬¡é¡¹ç›®é‡å¯ï¼Œç³»ç»Ÿæ‰€ç”Ÿæˆçš„UUIDéƒ½ä¸ä¸€æ ·ï¼Œè¿™æ ·ä¼šä¸ä¼šå¤ªéº»çƒ¦äº†ã€‚</p><p>èƒ½ä¸èƒ½é€šè¿‡æ‰‹åŠ¨é…ç½®çš„æ–¹å¼æ¥è¿›è¡Œé…ç½®è‡ªå®šä¹‰ç”¨æˆ·çš„å¯†ç å‘¢ã€‚å½“ç„¶å¯ä»¥ï¼Œä¸‹é¢Leoå“¥å¸¦ä½ é€šè¿‡é…ç½®æ–‡ä»¶æ¥å¯¹ä»–è¿›è¡Œè‡ªå®šä¹‰é…ç½®ã€‚</p><h3 id="_4-1é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_4-1é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 4.1é…ç½®æ–‡ä»¶</h3><p>æˆ‘ä»¬å¯ä»¥åœ¨ application.properties ä¸­é…ç½®é»˜è®¤çš„ç”¨æˆ·åå¯†ç ã€‚</p><p>æ€ä¹ˆé…ç½®å‘¢ï¼Ÿå¤§å®¶è¿˜è®°å¾—ä¸Šä¸€å°èŠ‚æˆ‘ä»¬è¯´çš„ SecurityPropertiesï¼Œé»˜è®¤çš„ç”¨æˆ·å°±å®šä¹‰åœ¨å®ƒé‡Œè¾¹ï¼Œæ˜¯ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼Œæˆ‘ä»¬å¦‚æœè¦å®šä¹‰è‡ªå·±çš„ç”¨æˆ·åå¯†ç ï¼Œå¿…ç„¶æ˜¯è¦å»è¦†ç›–é»˜è®¤é…ç½®ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹ SecurityProperties çš„å®šä¹‰ï¼š</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311546658.png" alt="image-20231031154639513" tabindex="0" loading="lazy"><figcaption>image-20231031154639513</figcaption></figure><p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ymlé…ç½®æ–‡ä»¶æ¥å¯¹SecurityPropertiesçš„é»˜è®¤é…ç½®è¿›è¡Œè¦†ç›–ï¼Œå¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡é…ç½®application.ymlæ¥è¿›è¡Œé…ç½®ã€‚</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">security</span><span class="token punctuation">:</span>
    <span class="token key atrule">user</span><span class="token punctuation">:</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> javatop
      <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°±æ˜¯æˆ‘ä»¬æ–°å®šä¹‰çš„ç”¨æˆ·åå¯†ç ã€‚</p><p>åœ¨ properties ä¸­å®šä¹‰çš„ç”¨æˆ·åå¯†ç æœ€ç»ˆæ˜¯é€šè¿‡set æ–¹æ³•æ³¨å…¥åˆ°å±æ€§ä¸­å»çš„ï¼Œè¿™é‡Œæˆ‘ä»¬é¡ºä¾¿æ¥çœ‹ä¸‹ SecurityProperties.User#setPassword æ–¹æ³•:</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>passwordGenerated <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> password<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œapplication.yml ä¸­å®šä¹‰çš„å¯†ç åœ¨æ³¨å…¥è¿›æ¥ä¹‹åï¼Œè¿˜é¡ºä¾¿è®¾ç½®äº† passwordGenerated å±æ€§ä¸º falseï¼Œè¿™ä¸ªå±æ€§è®¾ç½®ä¸º false ä¹‹åï¼Œæ§åˆ¶å°å°±ä¸ä¼šæ‰“å°é»˜è®¤çš„å¯†ç äº†ã€‚</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/Leo100/202310311548089.png" alt="image-20231031154846024" tabindex="0" loading="lazy"><figcaption>image-20231031154846024</figcaption></figure><p>æ­¤æ—¶é‡å¯é¡¹ç›®ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è‡ªå·±å®šä¹‰çš„ç”¨æˆ·å/å¯†ç ç™»å½•äº†ã€‚</p><h2 id="_4-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_4-æ€»ç»“" aria-hidden="true">#</a> 4.æ€»ç»“</h2><p>ä»¥ä¸Šä¾¿æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼Œæœ¬äººæ‰ç–å­¦æµ…ï¼Œæ–‡ç« æœ‰ä»€ä¹ˆé”™è¯¯çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§ä½¬ä»¬æ‰¹è¯„æŒ‡æ­£ï¼æˆ‘æ˜¯<strong>Leo</strong>ï¼Œä¸€ä¸ªåœ¨äº’è”ç½‘è¡Œä¸šçš„å°ç™½ï¼Œç«‹å¿—æˆä¸ºæ›´å¥½çš„è‡ªå·±ã€‚</p><p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº<strong>Leo</strong>ï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å·-ç¨‹åºå‘˜Leoï¼Œåé¢æ–‡ç« ä¼šé¦–å…ˆåŒæ­¥è‡³å…¬ä¼—å·ã€‚</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202311301345907.png" alt="å…¬ä¼—å·å°é¢" tabindex="0" loading="lazy"><figcaption>å…¬ä¼—å·å°é¢</figcaption></figure>`,38);function v(m,h){const t=i("ExternalLinkIcon");return o(),l("div",null,[u,n("p",null,[a("æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ip + ç«¯å£å·ï¼š "),n("a",r,[a("http://localhost:8500/hello"),e(t)])]),d,n("p",null,[a("å†æ¬¡æ‰“å¼€æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ip + ç«¯å£å·ï¼š "),n("a",g,[a("http://localhost:8500/hello"),e(t)])]),k])}const y=p(c,[["render",v],["__file","helloworld-simple-code.html.vue"]]);export{y as default};
