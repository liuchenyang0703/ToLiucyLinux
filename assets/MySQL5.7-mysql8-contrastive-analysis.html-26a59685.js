import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o,c,a as n,b as s,d as e,e as l}from"./app-8d307529.js";const i={},r=l(`<h1 id="mysql5-7å’Œmysql8å¯¹æ¯”åˆ†æ" tabindex="-1"><a class="header-anchor" href="#mysql5-7å’Œmysql8å¯¹æ¯”åˆ†æ" aria-hidden="true">#</a> MySQL5.7å’ŒMySQL8å¯¹æ¯”åˆ†æ</h1><h2 id="_1-å‰è¨€" tabindex="-1"><a class="header-anchor" href="#_1-å‰è¨€" aria-hidden="true">#</a> 1.å‰è¨€</h2><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Leoå“¥ğŸ«£ğŸ«£ğŸ«£ï¼Œæ˜¨å¤©æœ‰äººé—®é“ï¼šLeoå“¥ï¼ŒMySQL8å®‰è£…å’±ä¹Ÿä¼šäº†ï¼Œç»¿è‰²ç‰ˆï¼Œå˜å˜ä¸€é¡¿æ“ä½œï¼Œç®€å•ç²—æš´ã€‚èƒ½è®²è®²å…³äºMySQL5.7å’ŒMySQL8ä¹‹é—´çš„åŒºåˆ«å—ã€‚äºæ˜¯å°±æœ‰äº†ä»Šå¤©è¿™ç¯‡æ–‡ç« ã€‚å¥½äº†ï¼Œè¯ä¸å¤šè¯´è®©æˆ‘ä»¬å¼€å§‹å§ğŸ˜ğŸ˜ğŸ˜ã€‚</p><h2 id="_2-æ¦‚è§ˆ" tabindex="-1"><a class="header-anchor" href="#_2-æ¦‚è§ˆ" aria-hidden="true">#</a> 2.æ¦‚è§ˆ</h2><p>Oracleå‘å¸ƒæ–°ç‰ˆæœ¬çš„MySQLæ—¶ï¼Œç›´æ¥ä»5.7.x è·³åˆ°äº† 8.0ï¼Œå¯è°“æ˜¯ä¸€ä¸ªå¤§çš„ç‰ˆæœ¬è·³è·ƒï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä»ä¾§é¢åæ˜ ï¼Œè¿™é‡Œé¢çš„åŠŸèƒ½ä¼šæœ‰ä¸å°‘çš„å˜åŒ–ï¼Œæ–°ç‰ˆæœ¬çš„MySQLå¢åŠ äº†ä¸å°‘çš„äº®ç‚¹ã€‚</p><p>æ€»ä½“æ¥è¯´ï¼Œå„ä¸ªä¸šåŠ¡è¡¨å­˜å‚¨å¼•æ“ä¸ºInnoDBçš„mysql 5.7åœ¨ä½¿ç”¨è¯­æ³•ä¸Šå’Œmysql 8.0å·®åˆ«ä¸å¤§ï¼Œå®˜æ–¹è¡¨ç¤º MySQL 8 è¦æ¯” MySQL 5.7 å¿« 2 å€ï¼Œè¿˜å¸¦æ¥äº†å¤§é‡çš„æ”¹è¿›å’Œæ›´å¿«çš„æ€§èƒ½ã€‚</p><h2 id="_3-mysql8æ–°å¢åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_3-mysql8æ–°å¢åŠŸèƒ½" aria-hidden="true">#</a> 3.MySQl8æ–°å¢åŠŸèƒ½</h2><p>ä¸‹é¢æˆ‘ä»¬å…ˆé€šè¿‡ä¸¤ç§å›¾æ¥çœ‹ä¸€ä¸‹å…³äºMySQL8ä¸­<strong>æ€§èƒ½å‡çº§(å›¾ä¸€)<strong>å’Œ</strong>Nosqlæ–‡æ¡£å‡çº§(å›¾äºŒ)</strong></p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202311161014703.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202311161015134.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol><li>æ€§èƒ½ï¼š MySQL 8.0 åœ¨ä»¥ä¸‹æ–¹é¢å¸¦æ¥äº†æ›´å¥½çš„æ€§èƒ½ï¼šè¯»/å†™å·¥ä½œè´Ÿè½½ã€IO å¯†é›†å‹å·¥ä½œè´Ÿè½½ã€ä»¥åŠé«˜ç«äº‰(â€hot spotâ€çƒ­ç‚¹ç«äº‰é—®é¢˜)å·¥ä½œè´Ÿè½½ã€‚</li><li>NoSQLï¼šMySQL ä» 5.7 ç‰ˆæœ¬å¼€å§‹æä¾› NoSQL å­˜å‚¨åŠŸèƒ½ï¼Œç›®å‰åœ¨ 8.0 ç‰ˆæœ¬ä¸­è¿™éƒ¨åˆ†åŠŸèƒ½ä¹Ÿå¾—åˆ°äº†æ›´å¤§çš„æ”¹è¿›ã€‚è¯¥é¡¹åŠŸèƒ½æ¶ˆé™¤äº†å¯¹ç‹¬ç«‹çš„ NoSQL æ–‡æ¡£æ•°æ®åº“çš„éœ€æ±‚ï¼Œè€Œ MySQL æ–‡æ¡£å­˜å‚¨ä¹Ÿä¸º schema-less æ¨¡å¼çš„ JSON æ–‡æ¡£æä¾›äº†å¤šæ–‡æ¡£äº‹åŠ¡æ”¯æŒå’Œå®Œæ•´çš„ ACID åˆè§„æ€§ã€‚</li><li>çª—å£å‡½æ•°(Window Functions)ï¼šä» MySQL 8.0 å¼€å§‹ï¼Œæ–°å¢äº†ä¸€ä¸ªå«çª—å£å‡½æ•°çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥ç”¨æ¥å®ç°è‹¥å¹²æ–°çš„æŸ¥è¯¢æ–¹å¼ã€‚çª—å£å‡½æ•°ä¸ SUM()ã€COUNT() è¿™ç§é›†åˆå‡½æ•°ç±»ä¼¼ï¼Œä½†å®ƒä¸ä¼šå°†å¤šè¡ŒæŸ¥è¯¢ç»“æœåˆå¹¶ä¸ºä¸€è¡Œï¼Œè€Œæ˜¯å°†ç»“æœæ”¾å›å¤šè¡Œå½“ä¸­ã€‚å³çª—å£å‡½æ•°ä¸éœ€è¦ GROUP BYã€‚</li><li>éšè—ç´¢å¼•ï¼šåœ¨ MySQL 8.0 ä¸­ï¼Œç´¢å¼•å¯ä»¥è¢«â€œéšè—â€å’Œâ€œæ˜¾ç¤ºâ€ã€‚å½“å¯¹ç´¢å¼•è¿›è¡Œéšè—æ—¶ï¼Œå®ƒä¸ä¼šè¢«æŸ¥è¯¢ä¼˜åŒ–å™¨æ‰€ä½¿ç”¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªç‰¹æ€§ç”¨äºæ€§èƒ½è°ƒè¯•ï¼Œä¾‹å¦‚æˆ‘ä»¬å…ˆéšè—ä¸€ä¸ªç´¢å¼•ï¼Œç„¶åè§‚å¯Ÿå…¶å¯¹æ•°æ®åº“çš„å½±å“ã€‚å¦‚æœæ•°æ®åº“æ€§èƒ½æœ‰æ‰€ä¸‹é™ï¼Œè¯´æ˜è¿™ä¸ªç´¢å¼•æ˜¯æœ‰ç”¨çš„ï¼Œç„¶åå°†å…¶â€œæ¢å¤æ˜¾ç¤ºâ€å³å¯ï¼›å¦‚æœæ•°æ®åº“æ€§èƒ½çœ‹ä¸å‡ºå˜åŒ–ï¼Œè¯´æ˜è¿™ä¸ªç´¢å¼•æ˜¯å¤šä½™çš„ï¼Œå¯ä»¥è€ƒè™‘åˆ æ‰ã€‚</li><li>é™åºç´¢å¼•ï¼šMySQL 8.0 ä¸ºç´¢å¼•æä¾›æŒ‰é™åºæ–¹å¼è¿›è¡Œæ’åºçš„æ”¯æŒï¼Œåœ¨è¿™ç§ç´¢å¼•ä¸­çš„å€¼ä¹Ÿä¼šæŒ‰é™åºçš„æ–¹å¼è¿›è¡Œæ’åºã€‚</li><li>é€šç”¨è¡¨è¡¨è¾¾å¼(Common Table Expressions CTE)ï¼šåœ¨å¤æ‚çš„æŸ¥è¯¢ä¸­ä½¿ç”¨åµŒå…¥å¼è¡¨æ—¶ï¼Œä½¿ç”¨ CTE ä½¿å¾—æŸ¥è¯¢è¯­å¥æ›´æ¸…æ™°ã€‚</li><li>UTF-8 ç¼–ç ï¼šä» MySQL 8 å¼€å§‹ï¼Œä½¿ç”¨ utf8mb4 ä½œä¸º MySQL çš„é»˜è®¤å­—ç¬¦é›†ã€‚</li><li>JSONï¼šMySQL 8 å¤§å¹…æ”¹è¿›äº†å¯¹ JSON çš„æ”¯æŒï¼Œæ·»åŠ äº†åŸºäºè·¯å¾„æŸ¥è¯¢å‚æ•°ä» JSON å­—æ®µä¸­æŠ½å–æ•°æ®çš„ JSON_EXTRACT() å‡½æ•°ï¼Œä»¥åŠç”¨äºå°†æ•°æ®åˆ†åˆ«ç»„åˆåˆ° JSON æ•°ç»„å’Œå¯¹è±¡ä¸­çš„ JSON_ARRAYAGG() å’Œ JSON_OBJECTAGG() èšåˆå‡½æ•°ã€‚</li><li>å¯é æ€§ï¼šInnoDB ç°åœ¨æ”¯æŒè¡¨ DDL çš„åŸå­æ€§ï¼Œä¹Ÿå°±æ˜¯ InnoDB è¡¨ä¸Šçš„ DDL ä¹Ÿå¯ä»¥å®ç°äº‹åŠ¡å®Œæ•´æ€§ï¼Œè¦ä¹ˆå¤±è´¥å›æ»šï¼Œè¦ä¹ˆæˆåŠŸæäº¤ï¼Œä¸è‡³äºå‡ºç° DDL æ—¶éƒ¨åˆ†æˆåŠŸçš„é—®é¢˜ï¼Œæ­¤å¤–è¿˜æ”¯æŒ crash-safe ç‰¹æ€§ï¼Œå…ƒæ•°æ®å­˜å‚¨åœ¨å•ä¸ªäº‹åŠ¡æ•°æ®å­—å…¸ä¸­ã€‚</li><li>é«˜å¯ç”¨æ€§(High Availability)ï¼šInnoDB é›†ç¾¤ä¸ºæ‚¨çš„æ•°æ®åº“æä¾›é›†æˆçš„åŸç”Ÿ HA è§£å†³æ–¹æ¡ˆã€‚</li></ol><h2 id="_4-ç»†èŠ‚å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_4-ç»†èŠ‚å¤„ç†" aria-hidden="true">#</a> 4.ç»†èŠ‚å¤„ç†</h2><h3 id="_4-1ç»†èŠ‚1" tabindex="-1"><a class="header-anchor" href="#_4-1ç»†èŠ‚1" aria-hidden="true">#</a> 4.1ç»†èŠ‚1ï¼š</h3><p>æ¯”å¦‚æˆ‘ä»¬åœ¨MySQL 5.7ç‰ˆæœ¬ä¸­å…¨é¢æ¨è¡ŒGTIDï¼Œæ‰€ä»¥ä¹‹å‰çš„create table xxx as select * from xxçš„ä½¿ç”¨æ¨¡å¼å°±ä¸å¥æ•ˆäº†ï¼Œè¿›è€Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> xxx <span class="token operator">like</span> xxxxx<span class="token punctuation">;</span> 
 
<span class="token keyword">insert</span> <span class="token keyword">into</span> xxx <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> xxxxx<span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§ä½¿ç”¨æ¨¡å¼ï¼Œè€ŒMySQL8.0å¸¦æ¥çš„å¾ˆå¤šç‰¹æ€§æ˜¯åœ¨ä½“éªŒå’Œæ€§èƒ½æ”¹é€ æ–¹é¢ï¼ŒåŸæ¥ä¸å»ºè®®ä½¿ç”¨çš„æ¨¡å¼ç«Ÿç„¶å¯ä»¥æ”¯æŒäº†ï¼Œè€Œå¾ˆå¤šä¸šåŠ¡ä¾§æ˜¯åçŸ¥åè§‰ï¼ŒåŸæœ¬å·²ç»åŸ¹å…»çš„ä¹ æƒ¯ï¼Œè®©æˆ‘ä»¬æœ‰äº›å‡Œä¹±ã€‚</p><h3 id="_4-2ç»†èŠ‚2" tabindex="-1"><a class="header-anchor" href="#_4-2ç»†èŠ‚2" aria-hidden="true">#</a> 4.2ç»†èŠ‚2ï¼š</h3><p>åœ¨MySQL 5.7ä¸­å­—æ®µåä¸ºrankæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯åœ¨8.0ä¸­å› ä¸ºæœ‰äº†çª—å£å‡½æ•°ï¼Œå­—æ®µåä¸ºrankå°±æŠ¥é”™ï¼Œé¡ºç€è¿™ä¸ªæ€è·¯ï¼Œå…¶å®æˆ‘ä»¬ä¸€çª¥çª—å£å‡½æ•°ã€‚</p><h3 id="_4-3ç»†èŠ‚3" tabindex="-1"><a class="header-anchor" href="#_4-3ç»†èŠ‚3" aria-hidden="true">#</a> 4.3ç»†èŠ‚3ï¼š</h3><p>è¿™é‡Œé¡ºä¾¿åæ§½ä¸‹airflowçš„è¡¨ç»“æ„é…ç½®</p><p>airflowçš„ä¸€ä¸ªè¡¨ç»“æ„åœ¨MySQL 5.7ä¸­å¦‚ä¸‹ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> kube_resource_version 
<span class="token punctuation">(</span>one_row_id <span class="token keyword">BOOL</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">true</span><span class="token punctuation">,</span> resource_version <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
<span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>one_row_id<span class="token punctuation">)</span><span class="token punctuation">,</span> 
<span class="token keyword">CONSTRAINT</span> kube_resource_version_one_row_id <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>one_row_id<span class="token punctuation">)</span><span class="token punctuation">,</span> 
<span class="token keyword">CHECK</span> <span class="token punctuation">(</span>one_row_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.06</span> sec<span class="token punctuation">)</span> 
åœ¨MySQLä¸­å…¶å®ä¼šè¢«é»˜è®¤è½¬æ¢ä¸ºå¦‚ä¸‹çš„è¡¨ç»“æ„ï¼š 
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">\`</span>kube_resource_version<span class="token punctuation">\`</span></span> <span class="token punctuation">(</span> 
  <span class="token identifier"><span class="token punctuation">\`</span>one_row_id<span class="token punctuation">\`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> 
  <span class="token identifier"><span class="token punctuation">\`</span>resource_version<span class="token punctuation">\`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> 
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">\`</span>one_row_id<span class="token punctuation">\`</span></span><span class="token punctuation">)</span> 
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span> 
<span class="token number">1.2</span><span class="token number">.3</span><span class="token number">.4</span><span class="token number">.5</span><span class="token number">.6</span><span class="token number">.7</span><span class="token number">.8</span><span class="token number">.9</span><span class="token number">.10</span><span class="token number">.11</span><span class="token number">.12</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæŸ¥çœ‹åœ¨çº¿ä¸šåŠ¡çš„å®é™…æ•°æ®å¦‚ä¸‹ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> kube_resource_version<span class="token punctuation">;</span> 
<span class="token operator">+</span><span class="token comment">------------+------------------+ </span>
<span class="token operator">|</span> one_row_id <span class="token operator">|</span> resource_version <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">------------+------------------+ </span>
<span class="token operator">|</span>          <span class="token number">1</span> <span class="token operator">|</span>                  <span class="token operator">|</span> 
<span class="token operator">+</span><span class="token comment">------------+------------------+ </span>
<span class="token number">1</span> <span class="token keyword">row</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çœ‹èµ·æ¥è¿™ä¸ªbooleanç±»å‹çœŸæ˜¯æœ‰äº›é¸¡è‚‹ï¼Œåœ¨æ•°æ®åº“ä¸­å·²ç»é»˜è®¤ä½¿ç”¨tinyint(1)æ¥é—´æ¥è½¬ä¹‰äº†ï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜æ˜¯ä¸å¯¹å‘³ã€‚</p><p>å¸¦æ¥çš„é—®é¢˜æ˜¯åœ¨MySQL 5.7ä¸­å¯ä»¥æˆåŠŸåˆ›å»ºï¼Œä½†æ˜¯åœ¨8.0ä¼šæŠ¥é”™ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> kube_resource_version <span class="token punctuation">(</span>one_row_id <span class="token keyword">BOOL</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">true</span><span class="token punctuation">,</span> resource_version <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>one_row_id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">CONSTRAINT</span> kube_resource_version_one_row_id <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>one_row_id<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">CHECK</span> <span class="token punctuation">(</span>one_row_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
ERROR <span class="token number">3812</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: An expression <span class="token keyword">of</span> non<span class="token operator">-</span><span class="token keyword">boolean</span> <span class="token keyword">type</span> specified <span class="token keyword">to</span> a <span class="token keyword">check</span> <span class="token keyword">constraint</span> <span class="token string">&#39;kube_resource_version_one_row_id&#39;</span><span class="token punctuation">.</span> 
<span class="token number">1.2</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è€Œç»è¿‡åˆ†æï¼Œå…¶å®8.0çš„æŠ¥é”™æç¤ºæ›´åŠ åˆç†ï¼Œè‡³å°‘æˆ‘è§‰å¾—8.0å¯¹äºæ•°æ®å±‚é¢çš„è¦æ±‚ç¡®å®å˜é«˜äº†ã€‚</p><h2 id="_5-å…¶ä»–å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#_5-å…¶ä»–å·®å¼‚" aria-hidden="true">#</a> 5.å…¶ä»–å·®å¼‚</h2><h3 id="_5-1-intå­—æ®µç±»å‹çš„å·®å¼‚" tabindex="-1"><a class="header-anchor" href="#_5-1-intå­—æ®µç±»å‹çš„å·®å¼‚" aria-hidden="true">#</a> 5.1 intå­—æ®µç±»å‹çš„å·®å¼‚</h3><p>æ¯”å¦‚ä¸‹é¢çš„å»ºè¡¨è¯­å¥ï¼Œåœ¨ 5.7 èƒ½æ­£å¸¸æ‰§è¡Œï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">t1</span><span class="token template-punctuation string">\`</span></span> <span class="token punctuation">(</span> 
<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">id</span><span class="token template-punctuation string">\`</span></span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> auto_increment<span class="token punctuation">,</span>
<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">a</span><span class="token template-punctuation string">\`</span></span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token constant">DEFAULT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
<span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">id</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>InnoDB <span class="token constant">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯åœ¨ 8.0.17 å¼€å§‹åçš„ç‰ˆæœ¬ï¼Œæ‰§è¡Œä¸Šé¢çš„å»ºè¡¨è¯­å¥ï¼Œä¼šæœ‰å¦‚ä¸‹ warningsï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Integer display width is deprecated and will be removed <span class="token keyword">in</span> a future release<span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„å»ºè¡¨è¯­å¥ä¸­ï¼Œint(11) ä¸­çš„ 11 è¡¨ç¤ºæœ€å¤§æ˜¾ç¤ºå®½åº¦ï¼Œä» MySQL 8.0.17 å¼€å§‹ï¼Œint ç±»å‹å°±ä¸æ¨èä½¿ç”¨æ˜¾ç¤ºå®½åº¦è¿™ä¸ªå±æ€§äº†ã€‚å› æ­¤ 8.0 å»ºè®®ä½¿ç”¨å•ç‹¬çš„ int æ¥å®šä¹‰æ•´æ•°æ•°æ®ç±»å‹ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">t1</span><span class="token template-punctuation string">\`</span></span> <span class="token punctuation">(</span> 
<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">id</span><span class="token template-punctuation string">\`</span></span> int <span class="token constant">NOT</span> <span class="token constant">NULL</span> auto_increment<span class="token punctuation">,</span>
<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">a</span><span class="token template-punctuation string">\`</span></span> int <span class="token constant">DEFAULT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
<span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">id</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token constant">ENGINE</span><span class="token operator">=</span>InnoDB <span class="token constant">DEFAULT</span> <span class="token constant">CHARSET</span><span class="token operator">=</span>utf8mb4<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-åˆ›å»ºç”¨æˆ·å’Œèµ‹æƒå·®å¼‚" tabindex="-1"><a class="header-anchor" href="#_5-2-åˆ›å»ºç”¨æˆ·å’Œèµ‹æƒå·®å¼‚" aria-hidden="true">#</a> 5.2 åˆ›å»ºç”¨æˆ·å’Œèµ‹æƒå·®å¼‚</h3><p>MySQL 5.7ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ grant å‘½ä»¤ï¼Œç”¨æˆ·å’Œèµ‹æƒéƒ½èƒ½å®Œæˆã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>grant select on test<span class="token punctuation">.</span><span class="token operator">*</span> to <span class="token string">&#39;test_user&#39;</span>@<span class="token string">&#39;127.0.0.1&#39;</span> identified by <span class="token string">&#39;ddafsduGdsag&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>8.0 ç‰ˆæœ¬ä¸‹ä¸ create user çš„æƒ…å†µä¸‹æ‰§è¡Œ grant ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token constant">ERROR</span> <span class="token number">1064</span> <span class="token punctuation">(</span><span class="token number">42000</span><span class="token punctuation">)</span><span class="token operator">:</span> You have an error <span class="token keyword">in</span> your <span class="token constant">SQL</span> syntax<span class="token punctuation">;</span> check the manual that corresponds to your MySQL server version <span class="token keyword">for</span> the right syntax to use near <span class="token string">&#39;identified by &#39;</span>ddafsduGdsag<span class="token string">&#39;&#39;</span> at line <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å› æ­¤ MySQL 8.0 å¦‚æœéœ€è¦åˆ›å»ºç”¨æˆ·å¹¶èµ‹æƒï¼Œå¿…é¡»è¦å…ˆ create userï¼Œå†æ‰§è¡Œ grant å‘½ä»¤ï¼Œæ“ä½œå¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>create user <span class="token string">&#39;test_user&#39;</span>@<span class="token string">&#39;127.0.0.1&#39;</span> identified <span class="token keyword">with</span> mysql_native_password by <span class="token string">&#39;ddafsduGdsag&#39;</span><span class="token punctuation">;</span> 
grant select on test<span class="token punctuation">.</span><span class="token operator">*</span> to <span class="token string">&#39;test_user&#39;</span>@<span class="token string">&#39;127.0.0.1&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-mysqlä¸‹è½½" tabindex="-1"><a class="header-anchor" href="#_6-mysqlä¸‹è½½" aria-hidden="true">#</a> 6.MySQLä¸‹è½½</h2><p>æœ€åé™„ä¸ŠMySQL5.7ç‰ˆæœ¬ä»¥åŠMySQL8ç‰ˆæœ¬çš„ä¸‹è½½ï¼Œå¤§å®¶æŒ‰éœ€ä¸‹è½½å§ã€‚</p>`,45),u=n("strong",null,"MySQL5.7ï¼š",-1),d={href:"https://cdn.mysql.com/archives/mysql-installer/mysql-installer-community-5.7.26.0.msi",target:"_blank",rel:"noopener noreferrer"},k=n("strong",null,"MySQL8ï¼š",-1),m={href:"https://cdn.mysql.com//Downloads/MySQLInstaller/mysql-installer-community-8.0.25.0.msi",target:"_blank",rel:"noopener noreferrer"},v=n("h2",{id:"_7-å‚è€ƒæ–‡çŒ®",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_7-å‚è€ƒæ–‡çŒ®","aria-hidden":"true"},"#"),s(" 7.å‚è€ƒæ–‡çŒ®")],-1),h={href:"https://www.mysql.com/cn/why-mysql/",target:"_blank",rel:"noopener noreferrer"},b={href:"https://www.jianshu.com/p/bc13c572c517",target:"_blank",rel:"noopener noreferrer"},y={href:"https://dev.mysql.com/doc/refman/8.0/en/nested-loop-joins.html",target:"_blank",rel:"noopener noreferrer"},g={href:"https://zhuanlan.zhihu.com/p/58706113",target:"_blank",rel:"noopener noreferrer"},_=n("h2",{id:"_8-æ€»ç»“",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_8-æ€»ç»“","aria-hidden":"true"},"#"),s(" 8.æ€»ç»“")],-1),w=n("p",null,[s("ä»¥ä¸Šä¾¿æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼Œæœ¬äººæ‰ç–å­¦æµ…ï¼Œæ–‡ç« æœ‰ä»€ä¹ˆé”™è¯¯çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§ä½¬ä»¬æ‰¹è¯„æŒ‡æ­£ï¼æˆ‘æ˜¯"),n("strong",null,"Leo"),s("ï¼Œä¸€ä¸ªåœ¨äº’è”ç½‘è¡Œä¸šçš„å°ç™½ï¼Œç«‹å¿—æˆä¸ºæ›´å¥½çš„è‡ªå·±ã€‚")],-1),L=n("p",null,[s("å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº"),n("strong",null,"Leo"),s("ï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å·-ç¨‹åºå‘˜Leoï¼Œåé¢æ–‡ç« ä¼šé¦–å…ˆåŒæ­¥è‡³å…¬ä¼—å·ã€‚")],-1),f=n("figure",null,[n("img",{src:"https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202311161025910.png",alt:"ToLeoJavaerå…¬ä¼—å· (å¾®ä¿¡æœç´¢ç¨‹åºå‘˜Leo)",tabindex:"0",loading:"lazy"}),n("figcaption",null,"ToLeoJavaerå…¬ä¼—å· (å¾®ä¿¡æœç´¢ç¨‹åºå‘˜Leo)")],-1);function x(S,E){const a=p("ExternalLinkIcon");return o(),c("div",null,[r,n("p",null,[u,s(),n("a",d,[s("5.7"),e(a)])]),n("p",null,[k,s(),n("a",m,[s("8"),e(a)])]),v,n("ul",null,[n("li",null,[n("p",null,[n("a",h,[s("https://www.mysql.com/cn/why-mysql/"),e(a)])])]),n("li",null,[n("p",null,[n("a",b,[s("https://www.jianshu.com/p/bc13c572c517"),e(a)])])]),n("li",null,[n("p",null,[n("a",y,[s("https://dev.mysql.com/doc/refman/8.0/en/nested-loop-joins.html"),e(a)])])]),n("li",null,[n("p",null,[n("a",g,[s("https://zhuanlan.zhihu.com/p/58706113"),e(a)])])])]),_,w,L,f])}const Q=t(i,[["render",x],["__file","MySQL5.7-mysql8-contrastive-analysis.html.vue"]]);export{Q as default};
