import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o as c,c as o,a as s,b as n,d as i,e as a}from"./app-8d307529.js";const l={},u=a('<h1 id="springsecurity6-ç™»å½•æˆåŠŸåçš„jsonå¤„ç†" tabindex="-1"><a class="header-anchor" href="#springsecurity6-ç™»å½•æˆåŠŸåçš„jsonå¤„ç†" aria-hidden="true">#</a> SpringSecurity6 | ç™»å½•æˆåŠŸåçš„JSONå¤„ç†</h1><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312102158125.png" alt="image-20231030235443828" tabindex="0" loading="lazy"><figcaption>image-20231030235443828</figcaption></figure><h2 id="_1-å‰è¨€" tabindex="-1"><a class="header-anchor" href="#_1-å‰è¨€" aria-hidden="true">#</a> 1.å‰è¨€</h2>',3),r={href:"https://gaoziman.blog.csdn.net/article/details/134864581",target:"_blank",rel:"noopener noreferrer"},k=a(`<h2 id="_2-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_2-æ¦‚è¿°" aria-hidden="true">#</a> 2.æ¦‚è¿°</h2><p>åœ¨æˆ‘ä»¬ç°åœ¨æµè¡Œçš„å‰åç«¯åˆ†ç¦»å¼€å‘ä¸­ï¼Œå…¶å®åç«¯å·²ç»ä¸éœ€è¦å†è¿›è¡Œé¡µé¢çš„è·³è½¬ï¼Œå‰åç«¯æ•°æ®çš„äº¤æ¢éƒ½æ˜¯é€šè¿‡JSONæ¥è¿›è¡Œæµä¼ çš„ã€‚</p><p>å°±æ¯”å¦‚ï¼Œæˆ‘ä»¬åç«¯ç™»å½•ä¹‹åï¼Œåªéœ€è¦ç»™å‰ç«¯è¿”å›ä¸€æ®µJSONæ•°æ®ï¼Œå‘Šè¯‰å‰ç«¯ç™»å½•æˆåŠŸå³å¯ï¼Œå…·ä½“æ€ä¹ˆåšå‘¢ï¼Œæˆ‘ä»¬æ¥ç€å‘ä¸‹çœ‹ã€‚</p><h2 id="_3-jsonå¤„ç†" tabindex="-1"><a class="header-anchor" href="#_3-jsonå¤„ç†" aria-hidden="true">#</a> 3.JSONå¤„ç†</h2><h3 id="_3-1-è‡ªå®šä¹‰handle" tabindex="-1"><a class="header-anchor" href="#_3-1-è‡ªå®šä¹‰handle" aria-hidden="true">#</a> 3.1 è‡ªå®šä¹‰Handle</h3><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰<code>AuthenticationSuccessHandle</code>å¹¶å®ç°ä»–çš„ä¸€äº›æ–¹æ³•ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>javatop<span class="token punctuation">.</span>custom<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">cn<span class="token punctuation">.</span>hutool<span class="token punctuation">.</span>core<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>hash<span class="token punctuation">.</span></span><span class="token class-name">Hash</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>databind<span class="token punctuation">.</span></span><span class="token class-name">ObjectMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Authentication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>authentication<span class="token punctuation">.</span></span><span class="token class-name">AuthenticationSuccessHandler</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> : Leo
 * <span class="token keyword">@version</span> 1.0
 * <span class="token keyword">@date</span> 2023-12-10 22:03
 * <span class="token keyword">@description</span> : å“åº”æˆåŠŸä¹‹åçš„JSON
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAuthenticationSuccessHandle</span> <span class="token keyword">implements</span> <span class="token class-name">AuthenticationSuccessHandler</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAuthenticationSuccess</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Authentication</span> authentication<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç™»å½•æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;code&quot;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;application/json;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeValue</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-è¿›è¡Œé…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-2-è¿›è¡Œé…ç½®" aria-hidden="true">#</a> 3.2 è¿›è¡Œé…ç½®</h3><p>åœ¨æˆ‘ä»¬çš„ **MvcCconfig **ä¸­è¿›è¡Œhandleré…ç½®ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">.</span><span class="token function">successHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyAuthenticationSuccessHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æˆåŠŸä¹‹åçš„JSONå¤„ç†</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åé‡å¯é¡¹ç›®ï¼Œè¿›è¡Œæµ‹è¯•ã€‚</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312102208840.png" alt="image-20231210220826802" tabindex="0" loading="lazy"><figcaption>image-20231210220826802</figcaption></figure><p>è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬åˆšå“åº”çš„JSONæ•°æ®ã€‚</p><h2 id="_4-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_4-æ€»ç»“" aria-hidden="true">#</a> 4.æ€»ç»“</h2><p>ä»¥ä¸Šä¾¿æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼Œæœ¬äººæ‰ç–å­¦æµ…ï¼Œæ–‡ç« æœ‰ä»€ä¹ˆé”™è¯¯çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§ä½¬ä»¬æ‰¹è¯„æŒ‡æ­£ï¼æˆ‘æ˜¯<strong>Leo</strong>ï¼Œä¸€ä¸ªåœ¨äº’è”ç½‘è¡Œä¸šçš„å°ç™½ï¼Œç«‹å¿—æˆä¸ºæ›´å¥½çš„è‡ªå·±ã€‚</p><p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äº<strong>Leo</strong>ï¼Œå¯ä»¥å…³æ³¨å…¬ä¼—å·-ç¨‹åºå‘˜Leoï¼Œåé¢æ–‡ç« ä¼šé¦–å…ˆåŒæ­¥è‡³å…¬ä¼—å·ã€‚</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312102200926.png" alt="å…¬ä¼—å·å°é¢" tabindex="0" loading="lazy"><figcaption>å…¬ä¼—å·å°é¢</figcaption></figure>`,17);function d(m,v){const t=p("ExternalLinkIcon");return c(),o("div",null,[u,s("p",null,[n("å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Leoå“¥ğŸ«£ğŸ«£ğŸ«£ï¼Œæ¥åˆ°"),s("a",r,[n("ä¸Šä¸€èŠ‚"),i(t)]),n("ï¼Œæˆ‘ä»¬å­¦ä¹ é€šè¿‡SpringSecurityç™»å½•æˆåŠŸä¹‹åçš„ä¸€äº›é¡µé¢çš„è·³è½¬ã€‚è¿™ç¯‡æ–‡ç« æˆ‘ä»¬ä¸»è¦æ¥ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬é€šè¿‡è‡ªå®šä¹‰ç™»å½•ç•Œé¢ä¹‹åçš„ä¸€äº›ç»†èŠ‚å¤„ç†ã€‚å¥½äº†ï¼Œè¯ä¸å¤šè¯´è®©æˆ‘ä»¬å¼€å§‹å§ğŸ˜ğŸ˜ğŸ˜ã€‚")]),k])}const b=e(l,[["render",d],["__file","json-processing-after-login-successful.html.vue"]]);export{b as default};
