import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as d,e}from"./app-8d307529.js";const r={},o=e('<blockquote><p>UTF8 与 UTF8-BOM，大端与小端等编码到底有何不同</p></blockquote><h2 id="_1-问题发现" tabindex="-1"><a class="header-anchor" href="#_1-问题发现" aria-hidden="true">#</a> 1. 问题发现</h2><blockquote><p>最近在运行一个开源项目的时候，后端SpringBoot工程运行时，报了一个错，截图如下</p></blockquote><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309081353221.png" alt="image-20230908135357992" tabindex="0" loading="lazy"><figcaption>image-20230908135357992</figcaption></figure><h3 id="bom" tabindex="-1"><a class="header-anchor" href="#bom" aria-hidden="true">#</a> BOM</h3><p>出于好奇，我们查一下这个编码<code>\\\\ufeff</code>是个什么东东，查询得知，这是一个标识字节存储顺序的编码。</p><p>这个涉及到一个名词：<code>BOM</code>。</p><p>BOM：<strong>Byte Order Mark，</strong> 中文名译作“字节顺序标记”。我们知道一个UNICODE编码中一个汉字大多数占用2个字节，那个这两个字节哪个存储在存储地址高位，哪个存储在低位呢？</p><p>Unicode编码中，FEFF表明字节流是Big-Endian（大端序，内存低地址存放高位数据），FFFE则表明字节流是Little- Endian（小端序，内存的低地址存放低位数据）。</p><p>(可以巧妙区分为：内存低地址存的是低位就是小端序，内存低地址存的是高位就是大端序)</p><p>如“0x11223344”，这个变量的高字节是”0x11“，最低字节是为”0x44“，大端存储时为：</p><table><thead><tr><th>内存地址</th><th>数据</th><th></th></tr></thead><tbody><tr><td>0x0010</td><td>0x11</td><td>低内存地址，高位数据</td></tr><tr><td>0x0011</td><td>0x22</td><td></td></tr><tr><td>0x0012</td><td>0x33</td><td></td></tr><tr><td>0x0013</td><td>0x44</td><td>高内存地址</td></tr></tbody></table><p>而小端时数据的顺序则是相反的：</p><table><thead><tr><th>内存地址</th><th>数据</th><th></th></tr></thead><tbody><tr><td>0x0010</td><td>0x44</td><td>低内存地址，低位数据</td></tr><tr><td>0x0011</td><td>0x33</td><td></td></tr><tr><td>0x0012</td><td>0x22</td><td></td></tr><tr><td>0x0013</td><td>0x11</td><td>高内存地址</td></tr></tbody></table><h2 id="_2-思路" tabindex="-1"><a class="header-anchor" href="#_2-思路" aria-hidden="true">#</a> 2. 思路</h2><blockquote><p>解决的思路是将文件编码格式由其他编码格式转为 UTF-8格式。</p></blockquote><h2 id="_3-解决方式" tabindex="-1"><a class="header-anchor" href="#_3-解决方式" aria-hidden="true">#</a> 3. 解决方式</h2><h3 id="_3-1-方式一" tabindex="-1"><a class="header-anchor" href="#_3-1-方式一" aria-hidden="true">#</a> 3.1 方式一</h3><p>选择一个其他编码，如GBK。（我选的是GBK）。<strong>如下图</strong></p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/cisyam/202309081355247.webp" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>第二步：重复步骤一，再将编码选择回来，即第二次选择UTF-8编码。</p><p>第三步：嗯，没有第三步，这时候问题应该已经解决了。</p><h3 id="_3-2-方式二" tabindex="-1"><a class="header-anchor" href="#_3-2-方式二" aria-hidden="true">#</a> 3.2 方式二</h3><p>使用编辑器软件/IDE（windows记事本程序除外）将文件内容复制一份重新保存，并删除旧文件。</p><figure><img src="https://gaoziman.oss-cn-hangzhou.aliyuncs.com/LeoPic202312031906036.png" alt="公众号封面" tabindex="0" loading="lazy"><figcaption>公众号封面</figcaption></figure>',25),i=[o];function n(c,h){return a(),d("div",null,i)}const l=t(r,[["render",n],["__file","record-idea-illegal-character-ufeff-and-report-an-error-once.html.vue"]]);export{l as default};
